{"version":3,"file":"js/622.c9753c59.js","mappings":"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","sources":["webpack://test_bis/./src/components/operations.vue?ca14","webpack://test_bis/./src/components/modals/ModalSetOperations.vue?441a","webpack://test_bis/src/components/modals/ModalSetOperations.vue","webpack://test_bis/./src/components/modals/ModalSetOperations.vue?d860","webpack://test_bis/./src/components/modals/ModalSetOperations.vue","webpack://test_bis/src/components/operations.vue","webpack://test_bis/./src/components/operations.vue?ad5c","webpack://test_bis/./src/components/operations.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pages\"},[_c('div',{staticClass:\"nameTable\"},[_vm._v(\"Проводки\")]),_c('b-table',{attrs:{\"sticky-header\":\"\",\"items\":_vm.operations,\"select-mode\":_vm.selectMode,\"selectable\":\"\",\"fields\":_vm.fieldsOperations},on:{\"row-selected\":_vm.onRowSelected},scopedSlots:_vm._u([{key:\"cell(Actions)\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('b-button',{staticClass:\"mx-1\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.onEditOperation(item)}}},[_vm._v(\"Редактировать\")]),_c('b-button',{staticClass:\"mx-1\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.onDeleteOperation(item)}}},[_vm._v(\"Удалить\")])]}}])}),_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){_vm.modalShow = !_vm.modalShow}}},[_vm._v(\"Создать\")]),(_vm.selected)?_c('div',{staticClass:\"nameTable\"},[_vm._v(\"Счета проводок\")]):_vm._e(),(_vm.selected)?_c('b-table',{attrs:{\"sticky-header\":\"\",\"items\":_vm.accountsOperation,\"fields\":_vm.fieldsAccountsOperation}}):_vm._e(),_c('modal-set-operations',{attrs:{\"showModal\":_vm.modalShow,\"is-edit\":_vm.edit},on:{\"modalClosed\":_vm.onModalClosed},model:{value:(_vm.operationToEdit),callback:function ($$v) {_vm.operationToEdit=$$v},expression:\"operationToEdit\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"hide-footer\":\"\"},model:{value:(_vm.modalShow),callback:function ($$v) {_vm.modalShow=$$v},expression:\"modalShow\"}},[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSetOperations.apply(null, arguments)}}},[_c('b-input-group',{staticClass:\"mb-2\",attrs:{\"prepend\":\"Дата операционного дня\"}},[_c('b-form-select',{attrs:{\"options\":_vm.opDates,\"state\":_vm.stateOpDate,\"disabled\":_vm.isEdit,\"aria-describedby\":\"inputFeedbackOpdate\"},model:{value:(_vm.newOperations.OpDate),callback:function ($$v) {_vm.$set(_vm.newOperations, \"OpDate\", $$v)},expression:\"newOperations.OpDate\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"inputFeedbackOpdate\"}},[_vm._v(\" \"+_vm._s(_vm.errorTextOpDate)+\" \")])],1),_c('b-input-group',{staticClass:\"mb-2\",attrs:{\"prepend\":\"Счет дебета\"}},[_c('b-form-select',{attrs:{\"options\":_vm.AcctsNum,\"state\":_vm.stateAcctNumDB,\"disabled\":_vm.isEdit,\"aria-describedby\":\"inputFeedbackAcctNumDB\"},model:{value:(_vm.newOperations.AcctNumDB),callback:function ($$v) {_vm.$set(_vm.newOperations, \"AcctNumDB\", $$v)},expression:\"newOperations.AcctNumDB\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"inputFeedbackAcctNumDB\"}},[_vm._v(\" \"+_vm._s(_vm.errorTextAcctNumDB)+\" \")])],1),_c('b-input-group',{staticClass:\"mb-2\",attrs:{\"prepend\":\"Счет кредита\"}},[_c('b-form-select',{attrs:{\"options\":_vm.AcctsNum,\"state\":_vm.stateAcctNumCr,\"disabled\":_vm.isEdit,\"aria-describedby\":\"inputFeedbackAcctNumCr\"},model:{value:(_vm.newOperations.AcctNumCr),callback:function ($$v) {_vm.$set(_vm.newOperations, \"AcctNumCr\", $$v)},expression:\"newOperations.AcctNumCr\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"inputFeedbackAcctNumCr\"}},[_vm._v(\" \"+_vm._s(_vm.errorTextAcctNumCr)+\" \")])],1),_c('b-input-group',{staticClass:\"mb-2\",attrs:{\"prepend\":\"Сумма\"}},[_c('b-form-input',{attrs:{\"state\":_vm.stateAmount,\"type\":\"number\",\"min\":\"1\",\"aria-describedby\":\"inputFeedbackAmount\"},model:{value:(_vm.newOperations.Amount),callback:function ($$v) {_vm.$set(_vm.newOperations, \"Amount\", $$v)},expression:\"newOperations.Amount\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"inputFeedbackAmount\"}},[_vm._v(\" \"+_vm._s(_vm.errorTextAmount)+\" \")])],1),_c('b-button',{staticClass:\"mt-2 w-100\",attrs:{\"type\":\"submit\",\"variant\":\"success\"}},[_vm._v(\"Сохранить\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-modal v-model=\"modalShow\" hide-footer>\r\n        <b-form @submit.prevent=\"onSetOperations\">\r\n            <b-input-group prepend=\"Дата операционного дня\" class=\"mb-2\">\r\n                <b-form-select :options=\"opDates\" v-model=\"newOperations.OpDate\" :state=\"stateOpDate\" :disabled=\"isEdit\" aria-describedby=\"inputFeedbackOpdate\"></b-form-select>\r\n                <b-form-invalid-feedback id=\"inputFeedbackOpdate\">\r\n                    {{errorTextOpDate}}\r\n                </b-form-invalid-feedback>\r\n            </b-input-group>\r\n            <b-input-group prepend=\"Счет дебета\" class=\"mb-2\">\r\n                <b-form-select :options=\"AcctsNum\" v-model=\"newOperations.AcctNumDB\" :state=\"stateAcctNumDB\" :disabled=\"isEdit\" aria-describedby=\"inputFeedbackAcctNumDB\"></b-form-select>\r\n                <b-form-invalid-feedback id=\"inputFeedbackAcctNumDB\">\r\n                    {{errorTextAcctNumDB}}\r\n                </b-form-invalid-feedback>\r\n            </b-input-group>\r\n            <b-input-group prepend=\"Счет кредита\" class=\"mb-2\">\r\n                <b-form-select :options=\"AcctsNum\" :state=\"stateAcctNumCr\" v-model=\"newOperations.AcctNumCr\" :disabled=\"isEdit\" aria-describedby=\"inputFeedbackAcctNumCr\"></b-form-select>\r\n                <b-form-invalid-feedback id=\"inputFeedbackAcctNumCr\">\r\n                    {{errorTextAcctNumCr}}\r\n                </b-form-invalid-feedback>\r\n            </b-input-group>\r\n            <b-input-group prepend=\"Сумма\" class=\"mb-2\">\r\n                <b-form-input v-model=\"newOperations.Amount\" :state=\"stateAmount\" type=\"number\" min=\"1\" aria-describedby=\"inputFeedbackAmount\"></b-form-input>\r\n                <b-form-invalid-feedback id=\"inputFeedbackAmount\">\r\n                    {{errorTextAmount}}\r\n                </b-form-invalid-feedback>\r\n            </b-input-group>\r\n            <b-button type=\"submit\" class=\"mt-2 w-100\" variant=\"success\" >Сохранить</b-button>\r\n        </b-form>\r\n    </b-modal>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"ModalSetOperations\",\r\n        data(){\r\n            return{\r\n                modalShow:false,\r\n                errorTextAcctNumCr:'',\r\n                errorTextAcctNumDB:'',\r\n                errorTextAmount:'',\r\n                errorTextOpDate:'',\r\n                newOperations:{\r\n                    AcctNumCr:'',\r\n                    AcctNumDB:'',\r\n                    Amount:'',\r\n                    OpDate:''\r\n                }\r\n            }\r\n        },\r\n        props:{\r\n            value: Object,\r\n            showModal:Boolean,\r\n            isEdit: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        computed: {\r\n            stateOpDate() {\r\n                if(this.newOperations.OpDate === undefined){\r\n                    this.errorTextOpDate = 'Не введена дата операционного дня'\r\n                    return false\r\n                }\r\n                if(!this.newOperations.OpDate)\r\n                    return undefined\r\n                return true\r\n            },\r\n            stateAcctNumDB() {\r\n                if(this.newOperations.AcctNumDB === undefined){\r\n                    this.errorTextAcctNumDB = 'Не введен счет дебета'\r\n                    return false\r\n                }\r\n                if(!this.newOperations.AcctNumDB)\r\n                    return undefined\r\n                return true\r\n            },\r\n            stateAcctNumCr() {\r\n                if(this.newOperations.AcctNumCr === undefined){\r\n                    this.errorTextAcctNumCr = 'Не введен счет кредита'\r\n                    return false\r\n                }\r\n                if(!this.newOperations.AcctNumCr)\r\n                    return undefined\r\n                return true\r\n            },\r\n            stateAmount() {\r\n                if(this.newOperations.Amount === undefined){\r\n                    this.errorTextAmount = 'Не введена сумма'\r\n                    return false\r\n                }\r\n                if(!this.newOperations.Amount)\r\n                    return undefined\r\n                return true\r\n            },\r\n            AcctsNum(){\r\n                const accts = this.$store.getters['acct/Acct']\r\n                if(!accts)\r\n                    return null;\r\n                return accts.map(x=>{return {text: x.AcctNum, value: x.AcctNum}})\r\n            },\r\n            opDates:function () {\r\n                const opDate = this.$store.getters['opDate/OpDates']\r\n                if(!opDate)\r\n                    return null;\r\n                return opDate.map(x=>{return {text: x.OpDate, value: x.OpDate}})\r\n            }\r\n        },\r\n        methods:{\r\n            onContext(ctx) {\r\n                this.formatted = ctx.selectedFormatted\r\n                this.selected = ctx.selectedYMD\r\n            },\r\n            onSetOperations: async function(){\r\n                try{\r\n                    if (this.newOperations.OpDate !== '' && this.newOperations.AcctNumCr !=='' && this.newOperations.AcctNumDB !== '' && this.newOperations.Amount !== '' ){\r\n                        await this.$store.dispatch('operations/setOperations',{old: this.value, new: this.newOperations})\r\n                        this.newOperations.OpDate=''\r\n                        this.newOperations.AcctNumCr =''\r\n                        this.newOperations.AcctNumDB =''\r\n                        this.newOperations.Amount =''\r\n                        this.modalShow = false\r\n                    }\r\n                    else{\r\n                        if(!this.newOperations.OpDate)\r\n                            this.newOperations.OpDate = undefined\r\n                        if(!this.newOperations.AcctNumDB)\r\n                            this.newOperations.AcctNumDB = undefined\r\n                        if(!this.newOperations.AcctNumCr)\r\n                            this.newOperations.AcctNumCr = undefined\r\n                        if(!this.newOperations.Amount)\r\n                            this.newOperations.Amount = undefined\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    console.log('произошла ошибка')\r\n                }\r\n            }\r\n        },\r\n        watch:{\r\n            showModal:function (val) {\r\n                this.modalShow = val\r\n            },\r\n            value: function(val){\r\n                if(val){\r\n                    const copy = JSON.parse(JSON.stringify(val))\r\n                    this.newOperations = copy\r\n                } else{\r\n                    this.newOperations = {\r\n                            AcctNumDB:'',\r\n                            Amount:'',\r\n                            OpDate:''\r\n                    }\r\n                }\r\n            },\r\n            modalShow:function (val) {\r\n                if(!val)\r\n                    this.$emit(\"modalClosed\")\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalSetOperations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalSetOperations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalSetOperations.vue?vue&type=template&id=568434d6&scoped=true&\"\nimport script from \"./ModalSetOperations.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalSetOperations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"568434d6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"pages\">\r\n        <div class=\"nameTable\">Проводки</div>\r\n        <b-table sticky-header :items=\"operations\" :select-mode=\"selectMode\" selectable  @row-selected=\"onRowSelected\" :fields=\"fieldsOperations\">\r\n            <template #cell(Actions)=\"{item}\">\r\n                <b-button class=\"mx-1\" variant=\"primary\" @click=\"onEditOperation(item)\" >Редактировать</b-button>\r\n                <b-button class=\"mx-1\" variant=\"danger\" @click=\"onDeleteOperation(item)\">Удалить</b-button>\r\n            </template>\r\n        </b-table>\r\n        <b-button variant=\"success\" @click=\"modalShow = !modalShow\">Создать</b-button>\r\n        <div class=\"nameTable\" v-if=\"selected\" >Счета проводок</div>\r\n        <b-table  sticky-header v-if=\"selected\" :items=\"accountsOperation\" :fields=\"fieldsAccountsOperation\"></b-table>\r\n        <modal-set-operations v-model=\"operationToEdit\" :showModal=\"modalShow\" :is-edit=\"edit\" @modalClosed=\"onModalClosed\"></modal-set-operations>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ModalSetOperations from \"@/components/modals/ModalSetOperations\";\r\n    export default {\r\n        name: \"operations\",\r\n        components: {ModalSetOperations},\r\n        data(){\r\n            return{\r\n                modalShow: false,\r\n                selected: null,\r\n                operationToEdit: null,\r\n                edit: false,\r\n                accountsOperation:null,\r\n                fieldsOperations:[\r\n                    { key: \"OpDate\", label: \"Дата операционного дня\" },\r\n                    { key: \"AcctNumCr\", label: \"Счет дебета\" },\r\n                    { key: \"AcctNumDB\", label: \"Счет кредита\" },\r\n                    { key: \"Amount\", label: \"Сумма\" },\r\n                    { key: \"Actions\", label: \"Действия\" }\r\n                ],\r\n                fieldsAccountsOperation:[\r\n                    { key: \"AcctNum\", label: \"Номер счета\" },\r\n                    { key: \"Balance\", label: \"Остаток\" },\r\n                ],\r\n                selectMode: 'single',\r\n            }\r\n        },\r\n        methods:{\r\n            onModalClosed:function(){\r\n                this.edit = false\r\n                this.modalShow = false\r\n                this.operationToEdit = null\r\n            },\r\n            onEditOperation: function(item){\r\n                this.edit = true\r\n                this.modalShow = !this.modalShow\r\n                this.operationToEdit = item\r\n            },\r\n            onDeleteOperation:async function(val){\r\n                await this.$store.dispatch('operations/deleteOperation',val)\r\n            },\r\n            onRowSelected: function(items){\r\n                if(items.length <= 0) {\r\n                    this.selected = null\r\n                    return\r\n                }\r\n                this.selected = items[0]\r\n            }\r\n        },\r\n        computed:{\r\n            operations:function () {\r\n                const opDate = this.$store.getters['operations/OpEntry']\r\n                if(!opDate)\r\n                    return null;\r\n                return opDate\r\n            },\r\n        },\r\n        watch:{\r\n            selected: async function (val) {\r\n                console .log(\"выбран\", val)\r\n                if(val)\r\n                    this.accountsOperation = await this.$store.dispatch('acctPos/filterByDateAndAccount',val)\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./operations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./operations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./operations.vue?vue&type=template&id=1f6c7002&scoped=true&\"\nimport script from \"./operations.vue?vue&type=script&lang=js&\"\nexport * from \"./operations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f6c7002\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","operations","selectMode","fieldsOperations","on","onRowSelected","scopedSlots","_u","key","fn","ref","item","$event","onEditOperation","onDeleteOperation","modalShow","_e","accountsOperation","fieldsAccountsOperation","edit","onModalClosed","model","value","callback","$$v","operationToEdit","expression","staticRenderFns","preventDefault","onSetOperations","apply","arguments","opDates","stateOpDate","isEdit","newOperations","$set","_s","errorTextOpDate","AcctsNum","stateAcctNumDB","errorTextAcctNumDB","stateAcctNumCr","errorTextAcctNumCr","stateAmount","errorTextAmount","name","AcctNumCr","AcctNumDB","Amount","OpDate","props","showModal","type","default","computed","text","methods","onContext","old","new","console","watch","component","components","ModalSetOperations","selected","label"],"sourceRoot":""}